# Скидка в процентах на вариант доставки для WooCommerce

Этот фрагмент кода добавляет скидку на корзину, когда пользователь выбирает определённый метод доставки — "самовывоз" в WooCommerce.

## Возможности
- **Применение скидки**: Автоматически применяет процентную скидку к общей сумме корзины, если пользователь выбирает метод доставки "самовывоз".
- **Настраиваемая скидка**: Процент скидки можно легко настроить.
- **Исключение определённых товаров**: Можно исключить определённые товары (по их ID) от применения скидки.
- **Совместимость с WooCommerce**: Работает с процессами корзины и оформления заказа в WooCommerce.

## Как это работает
1. Код подключается к действию `woocommerce_cart_calculate_fees`.
2. Он проверяет, выбрал ли пользователь метод доставки "самовывоз" (идентифицированный как `local_pickup:1`).
3. Если условие выполняется, код рассчитывает скидку на основе общей суммы корзины и заданного процента.
4. Скидка применяется к корзине, исключая товары, указанные в списке исключений (по их ID).
5. Сумма скидки отображается в корзине во время оформления заказа.

## Настройка
- **Процент скидки**: Измените переменную `$discount_percentage`, чтобы изменить размер скидки.
- **Исключённые товары**: Добавьте ID товаров в массив `$excluded_products`, если хотите исключить определённые товары или их вариации из скидки.
  
### Пример
```php
$excluded_products = array( 123, 456 ); // Исключить товары с ID 123 и 456
$discount_percentage = 15; // Применить скидку 15%
```

## Установка
Чтобы использовать этот код, просто добавьте его в файл `functions.php` вашей темы или используйте собственный плагин.
